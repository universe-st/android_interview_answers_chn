# 无序广播的接收顺序是否受优先级影响？如何确定接收顺序？

无序广播（Normal Broadcast）的接收顺序**不受优先级影响**，且**没有固定的接收顺序**。这是无序广播与有序广播的核心区别之一。


### 一、无序广播的接收顺序与优先级的关系  
在无序广播中，`intent-filter`的优先级（`android:priority`）**完全不起作用**。无论静态注册还是动态注册时设置了优先级，系统都会忽略这一参数。  

原因是：无序广播采用**异步传递机制**，系统会同时将广播发送给所有匹配的`BroadcastReceiver`，而非按顺序逐个传递。因此，所有接收器几乎在同一时间接收到广播，不存在“谁先谁后”的严格顺序。  


### 二、无序广播接收顺序的不确定性  
无序广播的接收顺序由系统底层调度机制决定，受多种因素影响（但均不可控）：  
1. **进程状态**：已启动的进程中的接收器可能比未启动进程中的接收器先接收（因为无需唤醒进程）。  
2. **注册时机**：动态注册的接收器若注册时间更早，可能先接收（但非绝对，因系统调度存在随机性）。  
3. **系统负载**：系统资源紧张时，调度顺序可能受进程优先级（如前台进程优于后台进程）影响。  

但本质上，无序广播的接收顺序是**不可预测、不保证稳定**的。开发者**不能依赖无序广播的接收顺序**设计业务逻辑（例如：不能假设A接收器一定在B接收器之前处理广播）。  


### 三、总结  
- **无序广播的接收顺序与优先级无关**：优先级仅对有序广播有效，无序广播会忽略优先级设置。  
- **接收顺序不确定**：由系统调度机制决定，受进程状态、注册时机等因素影响，无法通过代码控制或预测。  

若业务需要严格的接收顺序（如数据依赖、链式处理），应使用**有序广播**并通过优先级控制顺序，而非无序广播。